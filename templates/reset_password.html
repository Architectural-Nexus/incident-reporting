{% extends "base.html" %}

{% block title %}Reset Password - Incident Reporting System{% endblock %}

{% block content %}
<div style="max-width: 400px; margin: 0 auto;">
    <div class="card">
        <h1 style="margin-bottom: 1.5rem; color: var(--text-primary); text-align: center;">Reset Password</h1>
        
        <p style="margin-bottom: 1.5rem; color: var(--text-secondary); text-align: center;">
            Enter your new password below.
        </p>
        
        <form method="POST">
            <div class="form-group">
                <label for="password" class="form-label">New Password</label>
                <div style="position: relative;">
                    <input type="password" id="password" name="password" class="form-input" required autofocus style="padding-right: 3rem;">
                    <button type="button" onclick="togglePassword('password')" style="position: absolute; right: 0.75rem; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; color: var(--text-secondary); font-size: 1rem;" title="Show/Hide Password">
                        <span id="password-toggle">üëÅÔ∏è</span>
                    </button>
                </div>
                <small style="color: var(--text-secondary); font-size: 0.8rem;">
                    Password must be at least 6 characters long
                </small>
            </div>

            <div class="form-group">
                <label for="confirm_password" class="form-label">Confirm New Password</label>
                <div style="position: relative;">
                    <input type="password" id="confirm_password" name="confirm_password" class="form-input" required style="padding-right: 3rem;">
                    <button type="button" onclick="togglePassword('confirm_password')" style="position: absolute; right: 0.75rem; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; color: var(--text-secondary); font-size: 1rem;" title="Show/Hide Password">
                        <span id="confirm_password-toggle">üëÅÔ∏è</span>
                    </button>
                </div>
            </div>

            <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">Reset Password</button>
        </form>
        
        <div style="margin-top: 1.5rem; text-align: center;">
            <a href="{{ url_for('admin_login') }}" class="nav-link">‚Üê Back to Login</a>
        </div>
    </div>
</div>

<script>
function togglePassword(fieldId) {
    const passwordField = document.getElementById(fieldId);
    const toggleButton = document.getElementById(fieldId + '-toggle');
    
    if (passwordField.type === 'password') {
        passwordField.type = 'text';
        toggleButton.textContent = 'üôà';
        toggleButton.title = 'Hide Password';
    } else {
        passwordField.type = 'password';
        toggleButton.textContent = 'üëÅÔ∏è';
        toggleButton.title = 'Show Password';
    }
}
</script>
{% endblock %}
